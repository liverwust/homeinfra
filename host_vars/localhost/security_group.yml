---
# This is an auxiliary vars file which just contains all of the Access Control
# List (ACL) entries for the DreamCompute settings.

dreamhost_security_group_rules:
  - description: Inter-node SSH from the private network
    direction: ingress
    ether_type: IPv4
    port_range_min: 22
    port_range_max: 22
    protocol: tcp
    remote_ip_prefix: "{{ dreamhost_network_private_range }}"

  - description: "HTTP from the public Internet"
    direction: ingress
    ether_type: IPv4
    port_range_min: 80
    port_range_max: 80
    protocol: tcp
    remote_ip_prefix: "0.0.0.0/0"

  - description: "HTTPS from the public Internet"
    direction: ingress
    ether_type: IPv4
    port_range_min: 443
    port_range_max: 443
    protocol: tcp
    remote_ip_prefix: "0.0.0.0/0"

  - description: Kubernetes API service from the private network
    direction: ingress
    ether_type: IPv4
    port_range_min: 6443
    port_range_max: 6443
    protocol: tcp
    remote_ip_prefix: "{{ dreamhost_network_private_range }}"

  - description: "Kubelet API service from the private network"
    direction: ingress
    ether_type: IPv4
    port_range_min: 10250
    port_range_max: 10250
    protocol: tcp
    remote_ip_prefix: "{{ dreamhost_network_private_range }}"

  - description: "VXVLAN between Nodes for Calico interconnectivity"
    direction: ingress
    ether_type: IPv4
    port_range_min: 4789
    port_range_max: 4789
    protocol: udp
    remote_ip_prefix: "{{ dreamhost_network_private_range }}"

  - description: Inbound ICMP4 (ping and friends)
    direction: ingress
    ether_type: IPv4
    protocol: icmp

  - description: Inbound ICMP6 (ping and friends)
    direction: ingress
    ether_type: IPv6
    protocol: icmpv6

  - description: Egress IPv4 (no restriction)
    direction: egress
    ether_type: IPv4
    protocol: any

  - description: Egress IPv4 (no restriction)
    direction: egress
    ether_type: IPv6
    protocol: any
